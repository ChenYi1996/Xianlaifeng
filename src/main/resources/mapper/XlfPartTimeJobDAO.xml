<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="com.xianlaifeng.ptj.dao.XlfPartTimeJobDAO">

    <select id="selectDetails" parameterType="java.lang.String">
        select p.* ,a.*
        from xlf_part_time_job AS  p
        join xlf_area AS  a
        ON  p.area_id  = a.area_id
        where p.job_id = #{jobId}

    </select>

    <select id="findAllList" parameterType="com.xianlaifeng.ptj.entity.XlfPartTimeJob" resultType="com.xianlaifeng.ptj.entity.XlfPartTimeJob">
        select *
        from xlf_part_time_job
        <where>
            end_work_date > now()
            <if test="jobName != null and jobName != ''">
                and job_Name  like '%${jobName}%'
            </if>
            <if test="areaId != 0  ">
                and area_id = #{areaId}
            </if>
            <if test="jobType != null and jobType != ''">
                and job_type = #{jobType}
            </if>
            <if test="timeType != null and jobType != ''">
                and time_type like '%${timeType}%'
            </if>
        </where>
        order by releaseTime desc
    </select>

    <insert id="add" parameterType="com.xianlaifeng.ptj.entity.XlfPartTimeJob">
        insert into xlf_part_time_job
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="jobName != null">
                job_name,
            </if>
            <if test="limitNumber != 0">
                limit_number,
            </if>
            <if test="jobType != null">
                job_type,
            </if>
            <if test="wage != null">
                wage,
            </if>
            <if test="wageType != null">
                wage_type,
            </if>
            <if test="calculateMoneyType != null">
                calculate_money_type,
            </if>
            <if test="calculateMoneyDate != null">
                calculate_money_date,
            </if>
            <if test="workStreet != null">
                work_street,
            </if>
            <if test="releaseTime != null">
                release_time,
            </if>
            <if test="startWorkDate != null">
                start_work_date,
            </if>
            <if test="endWorkDate != null">
                end_work_date,
            </if>
            <if test="jobContent != null">
                job_content,
            </if>
            <if test="auditStatus != null">
                audit_status,
            </if>
            <if test="userId != 0">
                user_id,
            </if>
            <if test="areaId != 0">
                area_id,
            </if>
            <if test="delFlag != null">
                del_flag,
            </if>
            <if test="sexDemand != null">
                sex_demand,
            </if>
        </trim>
        <trim prefix="values("  suffix=")" suffixOverrides=",">
            <if test="jobName != null">
                #{jobName},
            </if>
            <if test="limitNumber != 0">
                #{limitNumber},
            </if>
            <if test="jobType != null">
                #{jobType},
            </if>
            <if test="wage != null">
                #{wage},
            </if>
            <if test="wageType != null">
                #{wageType},
            </if>
            <if test="calculateMoneyType != null">
                #{calculateMoneyType},
            </if>
            <if test="calculateMoneyDate != null">
                #{calculateMoneyDate},
            </if>
            <if test="workStreet != null">
                #{workStreet},
            </if>
            <if test="releaseTime != null">
                #{releaseTime},
            </if>
            <if test="startWorkDate != null">
                #{startWorkDate},
            </if>
            <if test="endWorkDate != null">
               #{endWorkDate},
            </if>
            <if test="jobContent != null">
                #{jobContent},
            </if>
            <if test="auditStatus != null">
                #{auditStatus},
            </if>
            <if test="userId != 0">
                #{userId},
            </if>
            <if test="areaId != 0">
                #{areaId},
            </if>
            <if test="delFlag != null">
                #{delFlag},
            </if>
            <if test="sexDemand != null">
                #{sexDemand},
            </if>
        </trim>
    </insert>
</mapper>